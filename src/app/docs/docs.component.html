<mdb-card class="top-card">
  <mdb-card-body>
    <mdb-card-title><h2>Documents</h2>
    </mdb-card-title>

    <div class="d-flex align-items-center" *ngIf="loading">
      Loading documents...
      <div class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></div>
    </div>

    <mdb-card-text *ngIf="!loading">
      <ul class="docs">
        <li *ngFor="let doc of docs">
          <a routerLink="/docs/{{doc.m_szDocID}}">
            <mdb-card class="sub-card">
              <mdb-card-body>
                <mdb-card-title>
                  <h4>{{doc.m_szDocTitle}}<span *ngIf="doc.m_szYear"> ({{doc.m_szYear}})</span></h4>
                </mdb-card-title>
                <mdb-card-text>
                  <div class="doc-property-value row justify-content-start" *ngIf="doc.m_Companies.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Companies:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let company of doc.m_Companies">{{company}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row justify-content-start" *ngIf="doc.m_People.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">People:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let person of doc.m_People">{{person}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row" *ngIf="doc.m_Places.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Places:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let place of doc.m_Places">{{place}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row" *ngIf="doc.m_SocialTags.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Social tags:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let socialTag of doc.m_SocialTags">{{socialTag}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row" *ngIf="doc.m_Topics.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Topics:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let topic of doc.m_Topics">{{topic}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row" *ngIf="doc.m_Industry.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Industries:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let industry of doc.m_Industry">{{industry}}</li>
                      </ul>
                    </div>
                  </div>

                  <div class="doc-property-value row" *ngIf="doc.m_Technology.length > 0">
                    <div class="doc-property-name col-12 col-md-auto">Technologies:</div>
                    <div class="col col-md-10">
                      <ul class="value-list">
                        <li *ngFor="let technology of doc.m_Technology">{{technology}}</li>
                      </ul>
                    </div>
                  </div>
                  <div class="doc-summary">
                    {{doc.m_szDocSumamry}}
                  </div>
                </mdb-card-text>
              </mdb-card-body>
            </mdb-card>
          </a>
        </li>
      </ul>
    </mdb-card-text>
    <nav *ngIf="totalNumberOfPages > 1 && !loading">
      <ul class="pagination pagination-circle pg-blue justify-content-center">
        <li class="page-item" *ngIf="totalNumberOfPages > 5 && currentPage != 1">
          <a class="page-link" (click)="updatePage(1)">First</a>
        </li>

        <li class="page-item" *ngIf="currentPage!=1">
          <a class="page-link" aria-label="Previous" (click)="updatePage(currentPage - 1)">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
          </a>
        </li>

        <li class="page-item" *ngIf="currentPage < 3" [ngClass]="(currentPage==1)?'active':''">
          <a class="page-link" (click)="updatePage(1)">1</a>
        </li>
        <li class="page-item" *ngIf="currentPage < 3" [ngClass]="(currentPage==2)?'active':''">
          <a class="page-link" (click)="updatePage(2)">2</a>
        </li>
        <li class="page-item" *ngIf="currentPage < 3 && totalNumberOfPages > 2" [ngClass]="(currentPage==3)?'active':''">
          <a class="page-link" (click)="updatePage(3)">3</a>
        </li>
        <li class="page-item" *ngIf="currentPage < 3 && totalNumberOfPages > 3" [ngClass]="(currentPage==4)?'active':''">
          <a class="page-link" (click)="updatePage(4)">4</a>
        </li>
        <li class="page-item" *ngIf="currentPage < 3 && totalNumberOfPages > 4" [ngClass]="(currentPage==5)?'active':''">
          <a class="page-link" (click)="updatePage(5)">5</a>
        </li>


        <li class="page-item" *ngIf="currentPage >= 3 && currentPage < totalNumberOfPages - 2">
          <a class="page-link" (click)="updatePage(currentPage - 2)">{{currentPage - 2}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage < totalNumberOfPages - 2">
          <a class="page-link" (click)="updatePage(currentPage - 1)">{{currentPage - 1}}</a>
        </li>
        <li class="page-item active" *ngIf="currentPage >= 3 && currentPage < totalNumberOfPages - 2">
          <a class="page-link">{{currentPage}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage < totalNumberOfPages - 2">
          <a class="page-link" (click)="updatePage(currentPage + 1)">{{currentPage + 1}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage < totalNumberOfPages - 2">
          <a class="page-link" (click)="updatePage(currentPage + 2)">{{currentPage + 2}}</a>
        </li>

        <li class="page-item" *ngIf="currentPage >= 3 && currentPage >= totalNumberOfPages - 2 && totalNumberOfPages > 4"
            [ngClass]="(currentPage==totalNumberOfPages-4)?'active':''">
          <a class="page-link" (click)="updatePage(totalNumberOfPages - 4)">{{totalNumberOfPages - 4}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage >= totalNumberOfPages - 2 && totalNumberOfPages > 3"
            [ngClass]="(currentPage==totalNumberOfPages-3)?'active':''">
          <a class="page-link" (click)="updatePage(totalNumberOfPages - 3)">{{totalNumberOfPages - 3}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage >= totalNumberOfPages - 2 && totalNumberOfPages > 2"
            [ngClass]="(currentPage==totalNumberOfPages-2)?'active':''">
          <a class="page-link" (click)="updatePage(totalNumberOfPages - 2)">{{totalNumberOfPages - 2}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage >= totalNumberOfPages - 2"
            [ngClass]="(currentPage==totalNumberOfPages - 1)?'active':''">
          <a class="page-link" (click)="updatePage(totalNumberOfPages - 1)">{{totalNumberOfPages - 1}}</a>
        </li>
        <li class="page-item" *ngIf="currentPage >= 3 && currentPage >= totalNumberOfPages - 2"
            [ngClass]="(currentPage==totalNumberOfPages)?'active':''">
          <a class="page-link" (click)="updatePage(totalNumberOfPages)">{{totalNumberOfPages}}</a>
        </li>


        <li class="page-item" *ngIf="currentPage!=totalNumberOfPages">
          <a class="page-link" aria-label="Next" (click)="updatePage(currentPage + 1)">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
          </a>
        </li>

        <li class="page-item" *ngIf="totalNumberOfPages > 5 && currentPage!=totalNumberOfPages">
          <a class="page-link" (click)="updatePage(totalNumberOfPages)">Last</a>
        </li>
      </ul>
    </nav>
  </mdb-card-body>


</mdb-card>
